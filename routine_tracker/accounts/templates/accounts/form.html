{% extends layout %}

{% load widget_tweaks %}

{% block content %}
    <div class="card my-3 w-50 mx-auto">
        <div class="card-body">
            <h1>{{ title }}</h1>
            <form method="POST" hx-boost="{{ boost|yesno:"true,false" }}">
                {% csrf_token %}
                {% for field in form %}
                    <div class="mb-3" x-data="{showErrors:{{ field.errors|yesno:"true,false" }}}">
                        <label for="{{field.auto_id}}" class="form-label">{{ field.label }}</label>
                        <input
                            type="{{field.field.widget.input_type}}"
                            name="{{field.name}}"
                            @keyup="showErrors=false"
                            x-bind:class="showErrors ? 'is-invalid' : ''"
                            class="form-control" />
                        {% if field.errors %}
                            <div class="invalid-feedback" x-show="showErrors">
                                {% for error in field.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
                <button type="submit" class="btn btn-primary">{{ submit }}</button>
            </form>
        </div>
    </div>
{% endblock content %}
